import{u as y,r as u,g as L,o,c as d,a as r,F as R,b as S,t as z,j as p,e as F,f as B}from"./index-Bvb5MIaB.js";import{u as _,g as C}from"./user-CvFiV99N.js";import{N as x}from"./NoData-Dkus2hsm.js";import{u as E}from"./notify-CfPKNoBJ.js";import{u as N}from"./chat-DMcT0lHr.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A=["onClick"],$=["src"],D=["title"],I={__name:"FriendList",setup(v){const n=E(),l=_(),a=N(),h=y(),i=u([]),c=u(),w=u();L(async()=>{const t={id:l.user.info.id},{data:e}=await C(t),{data:s}=e;e.code===200&&(i.value=s)});function g(t,e){n.updateAsideActive(2),a.updateChatActive(t),a.updateActiveRoomId(t);let s=`/chat/chatsingleroom/${t}?receiveId=${e}`;h.push(s)}function k(t){t.preventDefault(),window.addEventListener("mousemove",f),window.addEventListener("mouseup",m)}function f(t){const e=t.clientX-c.value.getBoundingClientRect().left;e>150&&e<300&&(c.value.style.width=e+"px")}function m(){window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",m)}return(t,e)=>(o(),d("div",{class:"FriendList-container",ref_key:"resizableRef",ref:c},[e[0]||(e[0]=r("h3",null,"好友列表",-1)),r("div",{class:"resizer",ref_key:"resizerRef",ref:w,onMousedown:k},null,544),i.value.length>0?(o(!0),d(R,{key:0},S(i.value,s=>(o(),d("div",{class:"frind hover",key:s.roomId,onClick:j=>g(s.roomId,s.id)},[r("img",{src:s.avatar,alt:"用户头像",title:"用户头像"},null,8,$),r("strong",{title:s.username},z(s.username),9,D)],8,A))),128)):(o(),p(x,{key:1,class:"no-data"}))],512))}},V=b(I,[["__scopeId","data-v-bd2e5062"]]),G={__name:"FriendView",setup(v){const n=_();return(l,a)=>F(n).user.info.id?(o(),p(V,{key:0})):B("",!0)}};export{G as default};
