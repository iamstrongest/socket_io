import{E as m,r as N,g as y}from"./index-DVw92pm9.js";import{a as i,u as p}from"./_plugin-vue_export-helper-DsrsFqtt.js";function h(o){return i({url:"/notify",method:"get",params:o})}function v(o){return i({url:"/notify",method:"put",data:o})}const g=m("notify",()=>{const o=N(1),t=y({unreadNum:0,data:[]}),a=p();async function r(){t.unreadNum=0;const e={receiveId:a.user.info.id},{data:n}=await h(e),{data:u}=n;t.data=u,u.forEach(d=>{d.status==0&&(t.unreadNum=t.unreadNum+1)})}async function s(e){t.data.forEach(n=>{n.id==e.id&&(n.status=e.status,t.unreadNum--)}),await v(e)}function c(e){t.data.unshift(e),t.unreadNum=t.unreadNum+1}function f(e){o.value=e}return{asideActive:o,notify:t,setNotifiy:r,updateNotifiy:s,addNotifiy:c,updateAsideActive:f}});export{g as u};
